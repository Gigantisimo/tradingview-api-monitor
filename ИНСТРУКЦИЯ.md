# Инструкция по запуску веб-интерфейса TradingView Signals Monitor

## Необходимые требования

Перед запуском веб-интерфейса убедитесь, что на вашем компьютере установлен:
- Node.js версии 14.0.0 или выше (можно скачать с [сайта Node.js](https://nodejs.org/))

## Запуск на Windows

1. Установите Node.js, если он еще не установлен
2. Откройте папку `tv-monitor`
3. Дважды кликните на файл `setup.bat`
4. Дождитесь установки зависимостей и запуска сервера
5. Откройте в браузере адрес [http://localhost:3000](http://localhost:3000)

## Запуск на Linux

1. Установите Node.js, если он еще не установлен:
   ```
   sudo apt install nodejs npm   # Для Debian/Ubuntu
   sudo yum install nodejs npm   # Для CentOS/RHEL
   ```
   
2. Откройте терминал в папке `tv-monitor`
3. Выполните команду:
   ```
   chmod +x setup.sh
   ./setup.sh
   ```
   
4. Дождитесь установки зависимостей и запуска сервера
5. Откройте в браузере адрес [http://localhost:3000](http://localhost:3000)

## Первоначальная настройка

После запуска веб-интерфейса необходимо указать настройки подключения к TradingView API:

1. Перейдите на вкладку "Настройки"
2. Заполните поля:
   - **Session ID**: ваш идентификатор сессии TradingView
   - **Signature**: ваша подпись для аутентификации
   - **ID стратегии**: при необходимости укажите ID стратегии для получения сигналов
   
3. Если хотите получать уведомления в Telegram, заполните:
   - **Bot Token**: токен вашего Telegram-бота
   - **Chat ID**: ID чата для получения уведомлений
   
4. Настройте параметры мониторинга:
   - **Рынок**: торговая пара для мониторинга (например, BINANCE:BTCUSDT)
   - **Таймфрейм**: нужный таймфрейм (1m, 5m, 15m, 1h, 4h, 1D)
   - **Период охлаждения**: минимальный интервал между обработкой сигналов (0 для обработки всех сигналов)
   - **Свежесть сигнала**: максимальное время (в мс) для обработки сигнала с момента его появления
   - **Интервал проверки**: как часто (в мс) проверять наличие новых сигналов
   
5. Нажмите кнопку "Сохранить настройки"
6. Нажмите кнопку "Проверить подключение"

## Как получить SESSION и SIGNATURE

1. Войдите в свой аккаунт на TradingView
2. Откройте инструменты разработчика в браузере (F12 или Ctrl+Shift+I)
3. Перейдите на вкладку "Network" (Сеть)
4. Перезагрузите страницу TradingView (F5)
5. Найдите запросы к домену tradingview.com
6. В Headers (Заголовки) найдите:
   - Cookie: значение `sessionid=...` - это ваш SESSION ID
   - В URL или заголовках запроса найдите параметр `signature=...` - это ваша SIGNATURE

## Создание Telegram-бота

1. Откройте Telegram и найдите @BotFather
2. Отправьте ему команду `/newbot`
3. Следуйте инструкциям для создания бота
4. После создания вы получите токен бота (Bot Token)
5. Добавьте бота в чат или группу, где хотите получать уведомления
6. Чтобы получить Chat ID, отправьте сообщение в чат с ботом
7. Откройте в браузере: `https://api.telegram.org/bot<BOT_TOKEN>/getUpdates`
8. Найдите в ответе значение `"id"` в секции `"chat"` - это ваш Chat ID

## Устранение проблем

- **Ошибка подключения к TradingView**: проверьте правильность SESSION и SIGNATURE
- **Не приходят уведомления в Telegram**: проверьте токен бота и ID чата
- **Не отображаются сигналы**: проверьте настройки символа и таймфрейма
- **Веб-интерфейс не запускается**: убедитесь, что порт 3000 не занят другими приложениями

## Автоматический запуск при загрузке Windows

1. Создайте ярлык для файла `start.bat`
2. Нажмите Win+R, введите `shell:startup` и нажмите Enter
3. Переместите созданный ярлык в открывшуюся папку
4. Теперь веб-интерфейс будет запускаться автоматически при включении компьютера 